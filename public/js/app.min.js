var application={controllers:{},services:{}};application.services.login={signin:function(e){return fetch(location.origin+"/api/v1/signin",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},signup:function(e){return fetch(location.origin+"/api/v1/signup",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},function(n){var e=document.querySelector("#js-sign-in");if(e){var t=e.querySelector("form");t.onsubmit=function(e){e.preventDefault(),n.signin({username:t.querySelector("input[name=email]").value,password:t.querySelector("input[name=password]").value}).then(function(e){console.log(e)})}}}(application.services.login),function(n){var t=document.querySelector("#js-sign-up"),e=t.querySelector("form"),a=t.querySelector("input[name=username]"),r=t.querySelector("input[name=email]"),i=t.querySelector("input[name=phone]"),o=t.querySelector("input[name=password]"),s=t.querySelector("input[name=password-repeat]"),u=t.querySelector("button[type=submit]"),p={username:"",email:"",phone:"",password:"",passwordRepeat:""};if(t){u.disabled=!0;var l=function(){0<c.length?u.disabled=!0:u.disabled=!1},c=["username","email","password","password-repeat"],d=function(n){var e=t.querySelector("input[name="+n+"]");e&&e.nextElementSibling.classList.add("hidden"),c.forEach(function(e){e===n&&c.splice(c.indexOf(n),1)})},m=function(n){var e=t.querySelector("input[name="+n+"]");(e=t.querySelector("input[name="+n+"]"))&&e.nextElementSibling.classList.remove("hidden"),c.forEach(function(e){e===n&&c.splice(c.indexOf(n),1)}),c.push(n)};a.oninput=function(e){e.preventDefault();var n=e.target.value;0<n.length?d("username"):m("username"),p.username=n,l()},r.oninput=function(e){e.preventDefault();var n=e.target.value;e.target.nextElementSibling;/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase())?d("email"):m("email"),p.email=n,l()},i.oninput=function(e){e.preventDefault();var n=e.target.value;p.phone=n,l()},o.addEventListener("input",function(e){e.preventDefault();e.target.nextElementSibling;var n=e.target.value;n.length<8?m("password"):d("password"),n!==p.passwordRepeat?m("password-repeat"):d("password-repeat"),p.password=n,l()}),s.addEventListener("input",function(e){e.preventDefault();e.target.nextElementSibling;var n=e.target.value;n!==p.password?m("password-repeat"):d("password-repeat"),p.passwordRepeat=n,l()}),e.onsubmit=function(e){e.preventDefault(),n.signup(p).then(function(e){return e.json()}).then(function(e){console.log(e)})}}}(application.services.login);